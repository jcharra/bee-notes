"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([["src_app_pages_swarms_swarms_module_ts"],{7602:(y,D,i)=>{i.r(D),i.d(D,{SwarmsPageModule:()=>ce});var s=i(6362),_=i(587),c=i(3444),v=i(5211),A=i(4466),f=i(5513),d=i(4929),p=i(8325),O=i(1170);function E(n,a){return(0,O.Z)(2,arguments),(0,p.Z)(n).getTime()-(0,p.Z)(a).getTime()}var M=i(4139),R=i(4350),C=i(5670),I=i(8759),T=i(9095),b=i(6942),g=i(4512),t=i(6723),h=i(3235),S=i(9896),z=(Math.pow(10,8),36e5),X={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(a){return a<0?Math.ceil(a):Math.floor(a)}};function _t(n){return n?X[n]:X.trunc}function q(n,a,e){(0,O.Z)(2,arguments);var r=E(n,a)/z;return _t(null==e?void 0:e.roundingMethod)(r)}var x=(()=>{return(n=x||(x={})).VARROA_MEDIUM="VARROA_MEDIUM",n.VARROA_CRITICAL="VARROA_CRITICAL",n.VARROA_OK="VARROA_OK",n.SWARMING="SWARMING",x;var n})(),w=(()=>{return(n=w||(w={})).OK="OK",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.NEEDS_CHECK="NEEDS_CHECK",n.UNKNOWN="UNKNOWN",w;var n})(),H=(()=>{return(n=H||(H={})).EXCELLENT="EXCELLENT",n.GOOD="GOOD",n.MEDIUM="MEDIUM",n.POOR="POOR",n.PROBABLY_DEAD="PROBABLY_DEAD",n.DEAD="DEAD",n.NEEDS_CHECK="NEEDS_CHECK",n.UNKNOWN="UNKNOWN",H;var n})(),J=(()=>{return(n=J||(J={})).FRIENDLY="FRIENDLY",n.SLIGHTLY_AGGRESSIVE="SLIGHTLY_AGGRESSIVE",n.AGGRESSIVE="AGGRESSIVE",n.SUPER_AGGRESSIVE="SUPER_AGGRESSIVE",n.UNKNOWN="UNKNOWN",J;var n})(),G=i(8079);let dt=(()=>{class n{constructor(){}getColonyStatus(e){let r;for(let o of e)if(o.type===G.U.VARROA_CHECK_END)r=o;else if(o.type===G.U.VARROA_CHECK_START&&r){let u,l=r.amount?+r.amount/((q(r.date,new Date(o.date))||1)/24):0;return l=Math.round(l),u=l>=10?x.VARROA_CRITICAL:l>=5?x.VARROA_MEDIUM:x.VARROA_OK,{colonyStatus:u,avgCount:l}}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var tt=i(2912),mt=i(1903);let Q=(()=>{class n{constructor(e){this.animationCtrl=e}fadeIn(e,r){setTimeout(()=>{this.animationCtrl.create().addElement(document.querySelector(e)).duration(r).fromTo("opacity","0","1").play()},200)}pulse(e,r){setTimeout(()=>{this.animationCtrl.create().addElement(document.querySelector(e)).duration(1e3).iterations(r).keyframes([{offset:0,transform:"scale(1.0)"},{offset:.2,transform:"scale(1.3)"},{offset:.4,transform:"scale(1.0)"}]).play()},200)}rotate(e,r,o=1e4,l=1){setTimeout(()=>{this.animationCtrl.create().addElement(document.querySelectorAll(e)).duration(o).iterations(r).fromTo("transform","rotate(0deg)",`rotate(${360*l}deg)`).play()},1e3)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(c.vB))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pt=(0,i(6549).fo)("RateApp",{web:()=>i.e("node_modules_capacitor-rate-app_dist_esm_web_js").then(i.bind(i,1738)).then(n=>new n.RateAppWeb)});function Et(n,a){(0,O.Z)(2,arguments);var e=(0,p.Z)(n),r=(0,p.Z)(a),o=e.getFullYear()-r.getFullYear(),l=e.getMonth()-r.getMonth();return 12*o+l}function j(n,a){(0,O.Z)(2,arguments);var e=(0,p.Z)(n),r=(0,p.Z)(a),o=e.getTime()-r.getTime();return o<0?-1:o>0?1:o}function ft(n){(0,O.Z)(1,arguments);var a=(0,p.Z)(n);return a.setHours(23,59,59,999),a}function ht(n){(0,O.Z)(1,arguments);var a=(0,p.Z)(n),e=a.getMonth();return a.setFullYear(a.getFullYear(),e+1,0),a.setHours(23,59,59,999),a}function vt(n){(0,O.Z)(1,arguments);var a=(0,p.Z)(n);return ft(a).getTime()===ht(a).getTime()}function et(n,a){(0,O.Z)(2,arguments);var u,e=(0,p.Z)(n),r=(0,p.Z)(a),o=j(e,r),l=Math.abs(Et(e,r));if(l<1)u=0;else{1===e.getMonth()&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-o*l);var m=j(e,r)===-o;vt((0,p.Z)(n))&&1===l&&1===j(n,r)&&(m=!1),u=o*(l-Number(m))}return 0===u?0:u}var nt=i(460);const Ot=n=>n&&n.getTime&&!isNaN(n.getTime()),rt="LAST_REVIEW_REQUEST";let St=(()=>{class n{constructor(e){this.plt=e}checkReview(e){return(0,d.mG)(this,void 0,void 0,function*(){if(!this.plt.is("ios")||!e||0===e.length)return;const r=yield nt.K.get({key:rt});if(r&&r.value)et(new Date,new Date(r.value))>3&&this.requestReview();else{let o=e.map(m=>m.created).filter(Ot);if(0===o.length)return;o.sort();const l=o[0];et(new Date,l)>2&&this.requestReview()}})}requestReview(){return(0,d.mG)(this,void 0,void 0,function*(){yield nt.K.set({key:rt,value:(new Date).toISOString()}),pt.requestReview()})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(c.t4))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var At=i(7119);function Rt(n,a){1&n&&(t.TgZ(0,"ion-list",12)(1,"ion-item",13),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.Q6J("inset",!0),t.xp6(2),t.hij(" ",t.lcZ(3,2,"COLONIES_PAGE.noColonies")," \u{1f41d} "))}function Ct(n,a){if(1&n&&t._UZ(0,"app-weather-forecast",20),2&n){const e=t.oxw().$implicit;t.Q6J("lat",e.lat)("lng",e.lng)}}function Dt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-reminder-item",22),t.NdJ("notifyChange",function(){return t.CHM(e),t.oxw(4).loadSwarms()}),t.qZA()}2&n&&t.Q6J("reminder",a.$implicit)}function Mt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Dt,1,1,"app-reminder-item",21),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.reminders)}}function Tt(n,a){if(1&n&&(t.TgZ(0,"span",29),t._UZ(1,"br"),t.TgZ(2,"strong"),t._uU(3),t.ALo(4,"date"),t.qZA(),t._uU(5),t.ALo(6,"translate"),t.qZA()),2&n){const e=a.ngIf;t.xp6(3),t.hij("",t.xi3(4,2,e.date,"dd. MMM"),": "),t.xp6(2),t.hij(" ",t.lcZ(6,5,"ACTIONS."+e.type)," ")}}function It(n,a){1&n&&(t._UZ(0,"br"),t.TgZ(1,"span",29),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"JOURNAL_PAGE.noTrackedActivity")))}const Nt=function(n){return["view",n]};function wt(n,a){if(1&n&&(t.TgZ(0,"ion-item",23)(1,"ion-reorder",24)(2,"div",25),t._UZ(3,"status-indicator",26),t.qZA()(),t.TgZ(4,"ion-label"),t._uU(5),t.YNc(6,Tt,7,7,"span",27),t.YNc(7,It,4,3,"ng-template",null,28,t.W1O),t.qZA()()),2&n){const e=a.$implicit,r=t.MAs(8);t.Q6J("routerLink",t.VKq(6,Nt,e.id)),t.xp6(3),t.Q6J("colonyId",e.id)("isNucleus",e.isNucleus),t.xp6(2),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",e.lastAction)("ngIfElse",r)}}function Pt(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-list",12)(2,"app-group-header",14),t.NdJ("changeEvent",function(){return t.CHM(e),t.oxw(2).loadSwarms()})("renameEvent",function(o){return t.CHM(e),t.oxw(2).editSwarmGroup(o)}),t.qZA(),t.YNc(3,Ct,1,2,"app-weather-forecast",15),t.YNc(4,Mt,2,1,"ng-container",5),t.TgZ(5,"ion-reorder-group",16),t.NdJ("ionItemReorder",function(o){const u=t.CHM(e).index;return t.oxw(2).doReorder(o,u)}),t.YNc(6,wt,9,8,"ion-item",17),t.qZA(),t.TgZ(7,"ion-item",18)(8,"app-group-action-bar",19),t.NdJ("changeEvent",function(){return t.CHM(e),t.oxw(2).loadSwarms()})("addSwarmEvent",function(o){return t.CHM(e),t.oxw(2).createSwarm(o)})("deleteGroupEvent",function(){return t.CHM(e),t.oxw(2).loadSwarms()}),t.qZA()()(),t.BQk()}if(2&n){const e=a.$implicit;t.xp6(1),t.Q6J("inset",!0),t.xp6(1),t.Q6J("group",e),t.xp6(1),t.Q6J("ngIf",e.lat&&e.lng),t.xp6(1),t.Q6J("ngIf",e.reminders&&e.reminders.length>0),t.xp6(2),t.Q6J("ngForOf",e.swarms),t.xp6(2),t.Q6J("group",e)}}function xt(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,Rt,4,4,"ion-list",6),t.YNc(2,Pt,9,6,"ng-container",7),t.TgZ(3,"div",8)(4,"ion-buttons",9)(5,"ion-fab-button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().editSwarmGroup()}),t._UZ(6,"ion-icon",11),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.sortedSwarmGroups.length),t.xp6(1),t.Q6J("ngForOf",e.sortedSwarmGroups)}}let ot=(()=>{class n{constructor(e,r,o,l,u,m,N,K,le,ue,_e,de,me){this.swarmService=e,this.journalService=r,this.alertCtrl=o,this.loadingController=l,this.statusService=u,this.swarmGroupService=m,this.translate=N,this.purchases=K,this.animationService=le,this.router=ue,this.appreview=_e,this.storageSync=de,this.reminderService=me,this.sortedSwarmGroups=null}forceReloadSwarms(e){return(0,d.mG)(this,void 0,void 0,function*(){yield this.storageSync.clearStorage(),yield this.loadSwarms(),e.target.complete()})}loadSwarms(){return(0,d.mG)(this,void 0,void 0,function*(){let e=null;(yield this.storageSync.getFromStorage(g.F.SWARMS))||(e=yield this.loadingController.create({message:this.translate.instant("COLONIES_PAGE.loading"),showBackdrop:!0}),e&&(yield e.present()));const r=new Date;this.swarmService.getSwarms().pipe((0,C.P)(),(0,I.b)(o=>{console.log(`${E(new Date,r)} later`),this.appreview.checkReview(o)}),(0,T.w)(o=>(console.log(`${E(new Date,r)} later (app review done)`),this.groupSwarms(o))),(0,I.b)(o=>{console.log(`${E(new Date,r)} later (grouping done)`),this._groupsDiffer(this.sortedSwarmGroups,o)&&(this.sortedSwarmGroups=o),0===this.sortedSwarmGroups.length&&(this.animationService.pulse(".addGroupButton",5),this.animationService.pulse(".bee",5))}),(0,T.w)(()=>(console.log(`${E(new Date,r)} later (group diff check)`),this.loadJournalEntries())),(0,T.w)(()=>(console.log(`${E(new Date,r)} later (entries)`),this.loadGroupReminders()))).subscribe(()=>{console.log(`${E(new Date,r)} later (reminders)`),e&&e.dismiss()},o=>{e&&e.dismiss(),console.log("ERROR",o)})})}loadGroupReminders(){return this.reminderService.getReminders().pipe((0,C.P)(),(0,I.b)(e=>{for(let r of this.sortedSwarmGroups){const o=e.filter(l=>l.groupId===r.id);o.sort((l,u)=>l.date<u.date?-1:1),r.reminders=o}}))}loadJournalEntries(){let e=[];for(let r of this.sortedSwarmGroups)r.swarms.forEach(o=>{e.push(this.journalService.getDigest(o.id).pipe((0,I.b)(l=>{l&&l.length>0&&(o.lastAction=l[0],o.statusInfo=this.statusService.getColonyStatus(l))})))});return 0===e.length?(0,M.of)([]):(0,R.D)(e)}groupSwarms(e){return this.swarmGroupService.getGroups().pipe((0,b.U)(r=>{let o=new Map;e.forEach(u=>{o.set(u.id,u)});let l=[];return r.forEach(u=>{let m={id:u.id,name:u.name,swarms:[],lat:u.lat,lng:u.lng};(u.swarmIds||[]).forEach(N=>{const K=o.get(N);K&&m.swarms.push(K)}),l.push(m)}),l}))}ionViewDidEnter(){this.loadSwarms()}editSwarmGroup(e){return(0,d.mG)(this,void 0,void 0,function*(){const r=e&&this.sortedSwarmGroups.filter(l=>l.id===e)[0];yield(yield this.alertCtrl.create({header:this.translate.instant(r?"COLONIES_PAGE.editGroupName":"COLONIES_PAGE.newColonyGroup"),inputs:[{name:"name",type:"text",value:null==r?void 0:r.name,placeholder:this.translate.instant("COLONIES_PAGE.namePlaceholder")}],buttons:[{text:this.translate.instant("GENERAL.cancel"),role:"cancel",cssClass:"secondary"},{text:this.translate.instant(r?"GENERAL.save":"COLONIES_PAGE.createGroup"),handler:l=>{const u=l.name.trim();if(u){let m;m=r?this.swarmGroupService.updateGroup({id:r.id,name:u,swarmIds:r.swarms.map(N=>N.id)}):this.swarmGroupService.createGroup(u),m.subscribe(()=>{this.loadSwarms()},N=>{this.onCreationFailure(N)})}else this.onCreationFailure(this.translate.instant("COLONIES_PAGE.chooseValidName"))}}]})).present().then(()=>{document.querySelector("ion-alert input").focus()})})}createSwarm(e){return(0,d.mG)(this,void 0,void 0,function*(){this.purchases.checkLimitReached(this._getNumberOfSwarms())?this.requireFullVersion():this.router.navigateByUrl(`/swarms/edit?groupId=${e}`)})}onCreationFailure(e){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:this.translate.instant("COLONIES_PAGE.createGroupFailed"),message:e,buttons:["OK"]})).present()})}doReorder(e,r){return(0,d.mG)(this,void 0,void 0,function*(){const o=e.detail.from,l=e.detail.to,u=this.sortedSwarmGroups[r];o>l?(u.swarms.splice(l,0,u.swarms[o]),u.swarms.splice(o+1,1)):(u.swarms.splice(l+1,0,u.swarms[o]),u.swarms.splice(o,1)),e.detail.complete();const m=yield this.loadingController.create({message:this.translate.instant("COLONIES_PAGE.updatingSpinner"),showBackdrop:!0});yield m.present(),this.swarmGroupService.updateGroup({id:u.id,name:u.name,swarmIds:u.swarms.map(N=>N.id)}).subscribe(()=>{this.loadSwarms().then(()=>{m.dismiss()}).catch(console.error)})})}requireFullVersion(){return(0,d.mG)(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:this.translate.instant("COLONIES_PAGE.fullVersionRequiredDialogHeader"),message:this.translate.instant("COLONIES_PAGE.fullVersionRequiredDialogText"),buttons:[{text:this.translate.instant("GENERAL.ok")}]})).present()})}_getNumberOfSwarms(){let e=0;for(let r of this.sortedSwarmGroups)e+=r.swarms.length;return e}_groupsDiffer(e,r){if(!e||!r||e.length!==r.length)return!0;for(let o=0;o<e.length;o++){const l=e[o],u=r[o];if(l.swarms.length!==u.swarms.length||l.name!==u.name||l.lat!==u.lat||l.lng!==u.lng)return!0;for(let m=0;m<l.swarms.length;m++)if(l.swarms[m].id!==u.swarms[m].id||l.swarms[m].name!==u.swarms[m].name||l.swarms[m].isNucleus!==u.swarms[m].isNucleus)return!0}return!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.e),t.Y36(S.N),t.Y36(c.Br),t.Y36(c.HT),t.Y36(dt),t.Y36(tt.N),t.Y36(v.sK),t.Y36(mt.B3),t.Y36(Q),t.Y36(f.F0),t.Y36(St),t.Y36(g.t),t.Y36(At.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-swarms"]],viewQuery:function(e,r){if(1&e&&t.Gf(c.oz,5),2&e){let o;t.iGM(o=t.CRH())&&(r.reorderGroup=o.first)}},decls:11,vars:5,consts:[[3,"translucent"],["color","primary"],["slot","end"],["menu","first"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],["mode","ios","lines","full",3,"inset",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"controls-container"],[1,"ion-padding-horizontal"],["slot","end","color","primary","data-test-id","add-colony-group",1,"addGroupButton",3,"click"],["name","duplicate-outline"],["mode","ios","lines","full",3,"inset"],["lines","none",1,"ion-padding-vertical"],[3,"group","changeEvent","renameEvent"],[3,"lat","lng",4,"ngIf"],["disabled","false",3,"ionItemReorder"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"green-bg"],[3,"group","changeEvent","addSwarmEvent","deleteGroupEvent"],[3,"lat","lng"],[3,"reminder","notifyChange",4,"ngFor","ngForOf"],[3,"reminder","notifyChange"],[3,"routerLink"],["slot","start"],[1,"reorder"],[3,"colonyId","isNucleus"],["class","small-preview",4,"ngIf","ngIfElse"],["noActionYet",""],[1,"small-preview"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t._UZ(3,"ion-menu-button",3),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"ion-content")(8,"ion-refresher",4),t.NdJ("ionRefresh",function(l){return r.forceReloadSwarms(l)}),t._UZ(9,"ion-refresher-content"),t.qZA(),t.YNc(10,xt,7,2,"ng-container",5),t.qZA()),2&e&&(t.Q6J("translucent",!0),t.xp6(5),t.hij(" ",t.lcZ(6,3,"COLONIES_PAGE.pageTitle")," "),t.xp6(5),t.Q6J("ngIf",r.sortedSwarmGroups))},styles:[".small-preview[_ngcontent-%COMP%]{font-size:smaller!important;color:#aaa}ion-label[_ngcontent-%COMP%]{padding:3px 0}.statusInfoLabel[_ngcontent-%COMP%]{text-align:center;flex:0 0 68px;font-size:14px}.statusInfoLabel[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-bottom:-2px}.groupHeading[_ngcontent-%COMP%], .green-bg[_ngcontent-%COMP%]{--ion-item-background: #efe}ion-fab-button[_ngcontent-%COMP%]{margin:5px}.top-buffer[_ngcontent-%COMP%]{border-top:10px solid rgba(0,0,0,.7)}.reorder[_ngcontent-%COMP%]{display:inline-block;width:40px;text-align:center}"]}),n})();const Gt=[{path:"",component:ot},{path:"view/:swarmId",loadChildren:()=>Promise.all([i.e("common"),i.e("src_app_pages_swarms_swarm-detail_swarm-detail_module_ts")]).then(i.bind(i,1179)).then(n=>n.SwarmDetailPageModule)},{path:"edit",loadChildren:()=>Promise.all([i.e("common"),i.e("src_app_pages_swarms_swarm-edit_swarm-edit_module_ts")]).then(i.bind(i,8617)).then(n=>n.SwarmEditPageModule)}];let yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.Bz.forChild(Gt)],f.Bz]}),n})();function Lt(n,a){1&n&&(t.TgZ(0,"span",3),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"br"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"COLONIES_PAGE.emptyGroupHint")," "))}function Zt(n,a){if(1&n&&(t.TgZ(0,"span",3),t._uU(1),t.ALo(2,"number"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" Lat: ",t.xi3(2,2,e.group.lat,".1-4")," Lng: ",t.xi3(3,5,e.group.lng,".1-4")," ")}}let Ft=(()=>{class n{constructor(){this.renameEvent=new t.vpe}ngOnInit(){}rename(e){this.renameEvent.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-group-header"]],inputs:{idx:"idx",group:"group"},outputs:{renameEvent:"renameEvent"},decls:7,vars:3,consts:[[1,"ion-text-center","groupHeading"],[3,"click"],["class","small-preview",4,"ngIf"],[1,"small-preview"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-item",0)(1,"ion-label",1),t.NdJ("click",function(){return r.group.id&&r.rename(r.group.id)}),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._UZ(4,"br"),t.YNc(5,Lt,4,3,"span",2),t.YNc(6,Zt,4,8,"span",2),t.qZA()()),2&e&&(t.xp6(3),t.hij(" ",r.group.name," "),t.xp6(2),t.Q6J("ngIf",r.group.swarms&&0===r.group.swarms.length),t.xp6(1),t.Q6J("ngIf",r.group.lat&&r.group.lng))},directives:[s.O5],pipes:[v.X$,s.JJ],styles:[".small-preview[_ngcontent-%COMP%]{font-size:smaller!important;color:#aaa}ion-label[_ngcontent-%COMP%]{padding:3px 0}.statusInfoLabel[_ngcontent-%COMP%]{text-align:center;flex:0 0 68px;font-size:14px}.statusInfoLabel[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-bottom:-2px}.groupHeading[_ngcontent-%COMP%]{--ion-item-background: #efe}"]}),n})();var $=i(9377),bt=i(8784),V=(()=>{return(n=V||(V={})).CLEAR="Clear",n.RAIN="Rain",n.CLOUDS="Clouds",n.SNOW="Snow",V;var n})();let Bt=(()=>{class n{constructor(e){this.http=e,this.cache=new Map}getForecast(e,r){const o=e+"_"+r,l=this.cache.get(o);return l&&function Ut(n,a){(0,O.Z)(2,arguments);var e=(0,$.Z)(n),r=(0,$.Z)(a);return e.getTime()===r.getTime()}(l.current.date,(0,$.Z)(new Date))?(0,M.of)(l):this.http.get(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${r}&appid=09b7c89a1945dc1168a4d50a97ffd24d&units=metric&exclude=hourly,minutely,alerts`).pipe((0,b.U)(u=>(u.daily.forEach(m=>{m.date=new Date(1e3*m.dt),m.temp.min=Math.round(m.temp.min),m.temp.max=Math.round(m.temp.max)}),u.current.date=new Date(1e3*u.current.dt),u)),(0,I.b)(u=>(this.cache.set(o,u),u)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(bt.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ht(n,a){1&n&&(t.TgZ(0,"div"),t._UZ(1,"ion-icon",6),t.qZA())}function Jt(n,a){1&n&&(t.TgZ(0,"div"),t._UZ(1,"ion-icon",7),t.qZA())}function Vt(n,a){1&n&&(t.TgZ(0,"div"),t._UZ(1,"ion-icon",8),t.qZA())}function Kt(n,a){1&n&&(t.TgZ(0,"div"),t._UZ(1,"ion-icon",9),t.qZA())}const at=function(n){return{danger:n}};function Wt(n,a){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4),t._uU(2),t.ALo(3,"date"),t.qZA(),t.YNc(4,Ht,2,0,"div",1),t.YNc(5,Jt,2,0,"div",1),t.YNc(6,Vt,2,0,"div",1),t.YNc(7,Kt,2,0,"div",1),t.TgZ(8,"div",5),t._uU(9),t.qZA(),t.TgZ(10,"div",5),t._uU(11),t.qZA()()),2&n){const e=a.$implicit,r=t.oxw(2);t.xp6(2),t.Oqu(t.Dn7(3,9,e.date,"E","de")),t.xp6(2),t.Q6J("ngIf",e.weather[0].main===r.weatherType.CLEAR),t.xp6(1),t.Q6J("ngIf",e.weather[0].main===r.weatherType.CLOUDS),t.xp6(1),t.Q6J("ngIf",e.weather[0].main===r.weatherType.RAIN),t.xp6(1),t.Q6J("ngIf",e.weather[0].main===r.weatherType.SNOW),t.xp6(1),t.Q6J("ngClass",t.VKq(13,at,e.temp.max<0||e.temp.max>30)),t.xp6(1),t.hij("",e.temp.max,"\xb0"),t.xp6(1),t.Q6J("ngClass",t.VKq(15,at,e.temp.min<0||e.temp.min>30)),t.xp6(1),t.hij("",e.temp.min,"\xb0")}}function Qt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Wt,12,17,"div",2),t.BQk()),2&n){const e=a.ngIf;t.xp6(1),t.Q6J("ngForOf",e.daily)}}let jt=(()=>{class n{constructor(e,r){this.weatherService=e,this.animationService=r,this.weatherType=V}ngOnInit(){this.forecast$=this.weatherService.getForecast(this.lat,this.lng),this.animationService.rotate(".sunny",1/0),this.animationService.rotate(".snowy",1/0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Bt),t.Y36(Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-weather-forecast"]],inputs:{lat:"lat",lng:"lng"},decls:3,vars:3,consts:[[1,"ion-text-center","forecast"],[4,"ngIf"],["class","forecastDay",4,"ngFor","ngForOf"],[1,"forecastDay"],[1,"dayHeader"],[3,"ngClass"],["name","sunny",1,"sunny"],["name","cloud-outline",1,"cloudy"],["name","rainy-outline",1,"rainy"],["name","snow-outline",1,"snowy"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-item",0),t.YNc(1,Qt,2,1,"ng-container",1),t.ALo(2,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,r.forecast$)))},directives:[s.O5,s.sg,s.mk],pipes:[s.Ov,s.uU],styles:["[_nghost-%COMP%]   .forecast[_ngcontent-%COMP%]{--ion-item-background: lightblue !important;font-size:10pt;padding:10px;background-color:#add8e6;height:100px}.dayHeader[_ngcontent-%COMP%]{font-size:10pt;color:#000;margin-bottom:5px}.forecastDay[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#00f;font-size:16pt}.forecastDay[_ngcontent-%COMP%]{width:12.5%}.forecastNow[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#00f;font-size:20pt;display:inline-block!important}.forecastNow[_ngcontent-%COMP%]{width:180px}.sunny[_ngcontent-%COMP%]{color:#ff0!important}.cloudy[_ngcontent-%COMP%], .snowy[_ngcontent-%COMP%]{color:#fff!important}.rainy[_ngcontent-%COMP%]{color:gray!important}.danger[_ngcontent-%COMP%]{color:red}"]}),n})();var $t=i(4437),zt=i(2599);const it=function(n){return{"text-small":n}};function kt(n,a){if(1&n&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t._UZ(4,"mite",7),t.qZA(),t.TgZ(5,"div",8),t._uU(6,"p.d."),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,it,e.varroaInfo.average>9)),t.xp6(1),t.hij(" ",e.varroaInfo.average," "),t.xp6(2),t.Q6J("color","filterRed")}}function Xt(n,a){if(1&n&&(t.TgZ(0,"div",9)(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t._UZ(4,"mite",7),t.qZA(),t.TgZ(5,"div",8),t._uU(6,"p.d."),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,it,e.varroaInfo.average>9)),t.xp6(1),t.hij(" ",e.varroaInfo.average," "),t.xp6(2),t.Q6J("color","filterOrange")}}function qt(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1,"\u{1f41d}"),t.qZA())}function te(n,a){1&n&&(t.TgZ(0,"div",10),t._uU(1,"\u{1f41d}\u{1f41d}"),t.qZA())}function ee(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,kt,7,5,"div",1),t.YNc(2,Xt,7,5,"div",2),t.YNc(3,qt,2,0,"div",0),t.YNc(4,te,2,0,"div",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","HIGH"===e.varroaInfo.status),t.xp6(1),t.Q6J("ngIf","MEDIUM"===e.varroaInfo.status),t.xp6(1),t.Q6J("ngIf","OK"===e.varroaInfo.status&&e.isNucleus),t.xp6(1),t.Q6J("ngIf","OK"===e.varroaInfo.status&&!e.isNucleus)}}let ne=(()=>{class n{constructor(e,r,o){this.journalService=e,this.routerActive=r,this.router=o}ngOnInit(){this.refresh(),this.routerActive.paramMap.subscribe(()=>{"/swarms"===this.router.url&&this.refresh()})}refresh(){this.journalService.getDigest(this.colonyId).pipe((0,I.b)(e=>{this.varroaInfo=this._determineVarroaInfo(e),this.queenHealth=this._determineQueenHealth(e),this.aggression=this._determineAggression(e)})).subscribe()}_determineVarroaInfo(e){let r;for(let o of e)if(o.type===G.U.VARROA_CHECK_END)r=o;else if(o.type===G.U.VARROA_CHECK_START&&r){let l=r.amount?+r.amount/((q(r.date,new Date(o.date))||1)/24):0;return{average:Math.round(l),status:this._getVarroaStatusForTimeOfYear(l)}}return{average:0,status:w.OK}}_determineQueenHealth(e){return H.EXCELLENT}_determineAggression(e){return J.SUPER_AGGRESSIVE}_getVarroaStatusForTimeOfYear(e){return e>10?w.HIGH:e>5?w.MEDIUM:w.OK}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.N),t.Y36(f.gz),t.Y36(f.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["status-indicator"]],inputs:{colonyId:"colonyId",isNucleus:"isNucleus"},decls:1,vars:1,consts:[[4,"ngIf"],["class","red",4,"ngIf"],["class","orange",4,"ngIf"],["class","healthy",4,"ngIf"],[1,"red"],[1,"varroaNumber",3,"ngClass"],[1,"varroaMite"],["size","small",3,"color"],[1,"text-small","annotation"],[1,"orange"],[1,"healthy"]],template:function(e,r){1&e&&t.YNc(0,ee,5,4,"div",0),2&e&&t.Q6J("ngIf",r.varroaInfo)},directives:[s.O5,s.mk,zt.dX],styles:[".red[_ngcontent-%COMP%]{color:red}.orange[_ngcontent-%COMP%]{color:#fa0}.varroaNumber[_ngcontent-%COMP%], .varroaMite[_ngcontent-%COMP%]{display:inline-block}.varroaMite[_ngcontent-%COMP%]{padding-left:2px}.annotation[_ngcontent-%COMP%]{padding-top:8px}.text-small[_ngcontent-%COMP%]{font-size:.8em}.varroaNumber[_ngcontent-%COMP%]{margin-bottom:10px;vertical-align:middle}.healthy[_ngcontent-%COMP%]{letter-spacing:-5px}"]}),n})();function re(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ion-fab-button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().startDiagnosis()}),t._UZ(1,"ion-icon",9)(2,"ion-icon",10),t.qZA()}}function oe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ion-fab-button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().startTreatment()}),t._UZ(1,"ion-icon",11),t.qZA()}}function ae(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ion-fab-button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteGroup()}),t._UZ(1,"ion-icon",13),t.qZA()}}const ie=function(n){return{groupId:n}};let se=(()=>{class n{constructor(e,r,o,l,u,m){this.groupService=e,this.journalService=r,this.alertCtrl=o,this.translate=l,this.loadingCtrl=u,this.animationService=m,this.addSwarmEvent=new t.vpe,this.changeEvent=new t.vpe,this.deleteGroupEvent=new t.vpe}ngOnInit(){0===this.group.swarms.length&&this.animationService.pulse("#addButton"+this.group.id,3)}addNewSwarm(){this.addSwarmEvent.emit(this.group.id)}deleteGroup(){this.groupService.deleteGroup(this.group.id).subscribe(()=>{this.deleteGroupEvent.emit()})}setLocation(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:this.translate.instant("COLONIES_PAGE.setLocationDialogHeader"),message:this.translate.instant("COLONIES_PAGE.setLocationDialogMsg"),buttons:[{text:this.translate.instant("GENERAL.cancel"),role:"cancel"},{text:this.translate.instant("GENERAL.ok"),handler:()=>(0,d.mG)(this,void 0,void 0,function*(){const r=yield this.loadingCtrl.create({message:this.translate.instant("COLONIES_PAGE.localizing"),showBackdrop:!0});yield r.present(),this.groupService.setLocation(this.group).then(()=>{r.dismiss(),this.changeEvent.emit()}).catch(o=>{r.dismiss(),this.onSetLocationError(o)})})}]})).present()})}onSetLocationError(e){return(0,d.mG)(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:this.translate.instant("COLONIES_PAGE.errorGeolocation"),message:""+e,buttons:[{text:this.translate.instant("GENERAL.ok"),role:"cancel"}]})).present()})}startTreatment(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:this.translate.instant("COLONIES_PAGE.startTreatmentDialogHeader"),message:this.translate.instant("COLONIES_PAGE.startTreatmentDialogMsg"),buttons:[{text:this.translate.instant("GENERAL.cancel"),role:"cancel"},{text:this.translate.instant("GENERAL.ok"),handler:()=>{const r=[];this.group.swarms.forEach(o=>{r.push(this.journalService.createEntry(o.id,{date:new Date,type:G.U.VARROA_TREATMENT}))}),(0,R.D)(r).subscribe(()=>{this.changeEvent.emit()})}}]})).present()})}startDiagnosis(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:this.translate.instant("COLONIES_PAGE.startDiagnosisDialogHeader"),message:this.translate.instant("COLONIES_PAGE.startDiagnosisDialogMsg"),buttons:[{text:this.translate.instant("GENERAL.cancel"),role:"cancel"},{text:this.translate.instant("GENERAL.ok"),handler:()=>{const r=[];this.group.swarms.forEach(o=>{r.push(this.journalService.createEntry(o.id,{date:new Date,type:G.U.VARROA_CHECK_START}))}),(0,R.D)(r).subscribe(()=>{this.changeEvent.emit()})}}]})).present()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(tt.N),t.Y36(S.N),t.Y36(c.Br),t.Y36(v.sK),t.Y36(c.HT),t.Y36(Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-group-action-bar"]],inputs:{group:"group"},outputs:{addSwarmEvent:"addSwarmEvent",changeEvent:"changeEvent",deleteGroupEvent:"deleteGroupEvent"},decls:11,vars:8,consts:[["size","small","slot","end","color","primary",3,"id","click"],["name","cube-outline",1,"double-icon-left"],["name","add",1,"double-icon-right"],["size","small",3,"routerLink","queryParams"],["name","alarm-outline"],["size","small","slot","end","color","primary",3,"click",4,"ngIf"],["size","small","slot","end","color","primary",3,"click"],["name","location-outline"],["size","small","color","danger","data-test-id","deleteGroupAction",3,"click",4,"ngIf"],["name","bug-outline",1,"double-icon-left"],["name","help-outline",1,"double-icon-right"],["name","eyedrop-outline"],["size","small","color","danger","data-test-id","deleteGroupAction",3,"click"],["name","close-circle-outline"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-buttons")(1,"ion-fab-button",0),t.NdJ("click",function(){return r.addNewSwarm()}),t._UZ(2,"ion-icon",1)(3,"ion-icon",2),t.qZA(),t.TgZ(4,"ion-fab-button",3),t._UZ(5,"ion-icon",4),t.qZA(),t.YNc(6,re,3,0,"ion-fab-button",5),t.YNc(7,oe,2,0,"ion-fab-button",5),t.TgZ(8,"ion-fab-button",6),t.NdJ("click",function(){return r.setLocation()}),t._UZ(9,"ion-icon",7),t.qZA(),t.YNc(10,ae,2,0,"ion-fab-button",8),t.qZA()),2&e&&(t.xp6(1),t.Q6J("id","addButton"+r.group.id),t.xp6(3),t.Q6J("routerLink","/reminders")("queryParams",t.VKq(6,ie,r.group.id)),t.xp6(2),t.Q6J("ngIf",r.group.swarms.length>0),t.xp6(1),t.Q6J("ngIf",r.group.swarms.length>0),t.xp6(3),t.Q6J("ngIf",0===r.group.swarms.length))},directives:[f.rH,s.O5],styles:["ion-item[_ngcontent-%COMP%]{--ion-background-color: #e9ebee !important}.double-icon-left[_ngcontent-%COMP%]{margin-left:3px}.double-icon-right[_ngcontent-%COMP%]{margin-left:-3px}"]}),n})(),ce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,_.u5,c.Pc,yt,A.m,v.aw]]}),n})();t.B6R(ot,[c.Gu,c.sr,c.Sm,c.fG,c.wd,c.W2,c.nJ,c.Wo,s.O5,c.q_,c.Ie,s.sg,Ft,jt,$t.s,c.oz,c.YI,f.rH,c.Nh,ne,c.Q$,se,c.W4,c.gu],[v.X$,s.uU])},9896:(y,D,i)=>{i.d(D,{N:()=>I});var s=i(7589),_=i(1511),c=i(4858),v=i(4139),A=i(9095),f=i(8759),d=i(3910),p=i(6942),O=i(5670),E=i(4512),M=i(6723),R=i(7503);let I=(()=>{class T{constructor(g,t,h){this.db=g,this.authService=t,this.storageSync=h,this.entryCacheForColony=new Map}getDigest(g){return(0,c.D)(this.storageSync.getFromStorage(E.F.JOURNAL_ENTRIES,g)).pipe((0,A.w)(t=>t?(0,v.of)(t):this.getEntries(g,{limit:20}).pipe((0,f.b)(h=>{this.storageSync.writeToStorage(E.F.JOURNAL_ENTRIES,h,g)}))))}getEntries(g,t={}){const h=t.startAt||"2000-01-01",S=t.endAt||"2050-12-31",L=t.limit||1e3,Y=`${g}_${h}_${S}_${L}`;return this.authService.getUser().pipe((0,A.w)(Z=>{const W=this.entryCacheForColony.get(Y);return W?(0,v.of)(W):(0,s.en)((0,_.IO)((0,_.iH)(this.db,`/users/${Z.uid}/journals/${g}/entries`),(0,_.g2)("date"),(0,s.e0)(h),(0,s.Wu)(S),(0,_.vh)(L)),{keyField:"id"}).pipe((0,d.q)(1),(0,p.U)(B=>{if(!B)return[];const F=[];for(let P=0;P<B.length;P++){const U=B[P];F.unshift(Object.assign(Object.assign({},U),{date:new Date(U.date)}))}return F.sort((P,U)=>P.date<U.date?1:-1),L>-1?F.splice(0,L):F}))}),(0,f.b)(Z=>{this.entryCacheForColony.set(Y,Z)}))}getEntry(g,t){return this.authService.getUser().pipe((0,O.P)(),(0,A.w)(h=>(0,s.FE)((0,_.iH)(this.db,`/users/${h.uid}/journals/${g}/entries/${t}`),{keyField:"id"}).pipe((0,p.U)(S=>S?{id:S.id,text:S.text,type:S.type,date:new Date(S.date),amount:S.amount}:null))))}createEntry(g,t){return this.authService.getUser().pipe((0,A.w)(h=>{this.clearCacheForColony(g);const S=this.convertToFirebaseEntry(t);return(0,_.VF)((0,_.iH)(this.db,`/users/${h.uid}/journals/${g}/entries`),S)}))}updateEntry(g,t){return this.authService.getUser().pipe((0,A.w)(h=>{this.clearCacheForColony(g);const S=this.convertToFirebaseEntry(t);return(0,_.Vx)((0,_.iH)(this.db,`/users/${h.uid}/journals/${g}/entries/${S.id}`),S)}))}deleteEntry(g,t){return this.authService.getUser().pipe((0,A.w)(h=>{if(this.clearCacheForColony(g),t)return(0,s.Od)((0,_.iH)(this.db,`/users/${h.uid}/journals/${g}/entries/${t}`));console.error("Delete without ID")}))}clearCacheForColony(g){const t=[];for(let h of this.entryCacheForColony.keys())h.startsWith(g)&&t.push(h);t.forEach(h=>this.entryCacheForColony.delete(h)),this.storageSync.clearFromStorage(E.F.JOURNAL_ENTRIES,g)}convertToFirebaseEntry(g){const t=Object.assign({},g);return t.date=new Date(g.date).toISOString(),t}}return T.\u0275fac=function(g){return new(g||T)(M.LFG(s.vo),M.LFG(R.e),M.LFG(E.t))},T.\u0275prov=M.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},2599:(y,D,i)=>{i.d(D,{dX:()=>f});var s=i(6723),_=i(6362);const c=function(d,p){return[d,p]};var v=(()=>{return(d=v||(v={})).WHITE="filterWhite",d.ORANGE="filterOrange",d.RED="filterRed",v;var d})(),A=(()=>{return(d=A||(A={})).large="large",d.small="small",A;var d})();let f=(()=>{class d{constructor(){this.color=v.WHITE,this.size=A.large}ngOnInit(){}}return d.\u0275fac=function(O){return new(O||d)},d.\u0275cmp=s.Xpm({type:d,selectors:[["mite"]],inputs:{color:"color",size:"size"},decls:1,vars:4,consts:[["src","assets/img/mite.png",3,"ngClass"]],template:function(O,E){1&O&&s._UZ(0,"ion-img",0),2&O&&s.Q6J("ngClass",s.WLB(1,c,E.color,E.size))},directives:[_.mk],styles:[".small[_ngcontent-%COMP%]{width:18px;height:18px}.large[_ngcontent-%COMP%]{width:30px;height:30px}.filterWhite[_ngcontent-%COMP%]{filter:saturate(100%) brightness(100%) invert(100%)}.filterRed[_ngcontent-%COMP%]{filter:invert(15%) sepia(67%) saturate(4666%) hue-rotate(353deg) brightness(112%) contrast(126%)}.filterOrange[_ngcontent-%COMP%]{filter:invert(78%) sepia(58%) saturate(4848%) hue-rotate(2deg) brightness(107%) contrast(105%)}"]}),d})()},4437:(y,D,i)=>{i.d(D,{s:()=>O});var s=i(4929),_=i(6723),c=i(3444),v=i(7119),A=i(5211),f=i(5513),d=i(6362);const p=function(E,M,R){return{reminderId:E,swarmId:M,groupId:R}};let O=(()=>{class E{constructor(R,C,I,T){this.alertCtrl=R,this.reminderService=C,this.translate=I,this.toastController=T,this.notifyChange=new _.vpe}ngOnInit(){}delete(){return(0,s.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:this.translate.instant("REMINDERS.deleteConfirmHeader"),buttons:[{text:this.translate.instant("GENERAL.cancel"),role:"cancel",cssClass:"secondary"},{text:this.translate.instant("GENERAL.delete"),handler:()=>{this.reminderService.deleteReminder(this.reminder).then(()=>{this.onReminderDismissed(),this.notifyChange.emit()})}}]})).present()})}onReminderDismissed(){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:this.translate.instant("JOURNAL_PAGE.onReminderDismissal"),duration:2e3})).present()})}}return E.\u0275fac=function(R){return new(R||E)(_.Y36(c.Br),_.Y36(v.Z),_.Y36(A.sK),_.Y36(c.yF))},E.\u0275cmp=_.Xpm({type:E,selectors:[["app-reminder-item"]],inputs:{reminder:"reminder"},outputs:{notifyChange:"notifyChange"},decls:6,vars:10,consts:[[1,"groupReminder"],["slot","start","name","alarm-outline"],["routerLink","/reminders",1,"ion-text-wrap",3,"queryParams"],["name","trash-outline",3,"click"]],template:function(R,C){1&R&&(_.TgZ(0,"ion-item",0),_._UZ(1,"ion-icon",1),_.TgZ(2,"ion-label",2),_._uU(3),_.ALo(4,"date"),_.qZA(),_.TgZ(5,"ion-icon",3),_.NdJ("click",function(){return C.delete()}),_.qZA()()),2&R&&(_.xp6(2),_.Q6J("queryParams",_.kEZ(6,p,C.reminder.reminderId,C.reminder.swarmId||"",C.reminder.groupId||"")),_.xp6(1),_.AsE(" ",_.xi3(4,3,C.reminder.date,"dd. MMM"),": ",C.reminder.text,""))},directives:[f.rH],pipes:[d.uU],styles:[".groupReminder[_ngcontent-%COMP%]{--ion-item-background: #ffcf9e;color:#fff;font-weight:bolder;font-size:smaller;word-break:normal}"]}),E})()},4466:(y,D,i)=>{i.d(D,{m:()=>A});var s=i(6362),_=i(5211),c=i(5513),v=i(6723);let A=(()=>{class f{}return f.\u0275fac=function(p){return new(p||f)},f.\u0275mod=v.oAB({type:f}),f.\u0275inj=v.cJS({imports:[[s.ez,_.aw,c.Bz]]}),f})()},8079:(y,D,i)=>{i.d(D,{U:()=>s,Z:()=>_});var s=(()=>{return(c=s||(s={})).VARROA_CHECK_START="VARROA_CHECK_START",c.VARROA_CHECK_END="VARROA_CHECK_END",c.VARROA_TREATMENT="VARROA_TREATMENT",c.FRAMES_HONEY_HARVESTED="FRAMES_HONEY_HARVESTED",c.FRAMES_DRONE_REMOVED="FRAMES_DRONE_REMOVED",c.FRAMES_DRONE_INSERTED="FRAMES_DRONE_INSERTED",c.FRAMES_EMPTY_PANEL_REMOVED="FRAMES_EMPTY_PANEL_REMOVED",c.FRAMES_EMPTY_PANEL_INSERTED="FRAMES_EMPTY_PANEL_INSERTED",c.FRAMES_EMPTY_COMBS_REMOVED="FRAMES_EMPTY_COMBS_REMOVED",c.FRAMES_EMPTY_COMBS_INSERTED="FRAMES_EMPTY_COMBS_INSERTED",c.FRAMES_BROOD_REMOVED="FRAMES_BROOD_REMOVED",c.FRAMES_BROOD_INSERTED="FRAMES_BROOD_INSERTED",c.FRAMES_FOOD_REMOVED="FRAMES_FOOD_REMOVED",c.FRAMES_FOOD_INSERTED="FRAMES_FOOD_INSERTED",c.FRAMES_STOREYS_ADDED="FRAMES_STOREYS_ADDED",c.FRAMES_STOREYS_REMOVED="FRAMES_STOREYS_REMOVED",c.FRAMES_BROOD_COUNTED="FRAMES_BROOD_COUNTED",c.QUEEN_SPOTTED="QUEEN_SPOTTED",c.QUEEN_ADDED="QUEEN_ADDED",c.QUEEN_DECEASED="QUEEN_DECEASED",c.QUEEN_EGGS_SPOTTED="QUEEN_EGGS_SPOTTED",c.QUEEN_CELL_SPOTTED="QUEEN_CELL_SPOTTED",c.QUEEN_CELL_REMOVED="QUEEN_CELL_REMOVED",c.COLONY_SWARMED="COLONY_SWARMED",c.FOOD_ADDED="FOOD_ADDED",c.WEIGHT_MEASURED="WEIGHT_MEASURED",c.GOT_STUNG="GOT_STUNG",c.GENERAL_NOTE="GENERAL_NOTE",s;var c})();const _={queen:[s.QUEEN_SPOTTED,s.QUEEN_ADDED,s.QUEEN_DECEASED,s.QUEEN_EGGS_SPOTTED,s.QUEEN_CELL_SPOTTED,s.QUEEN_CELL_REMOVED,s.COLONY_SWARMED],varroa:[s.VARROA_CHECK_START,s.VARROA_CHECK_END,s.VARROA_TREATMENT],frames:[s.FRAMES_BROOD_INSERTED,s.FRAMES_BROOD_REMOVED,s.FRAMES_DRONE_INSERTED,s.FRAMES_DRONE_REMOVED,s.FRAMES_EMPTY_COMBS_INSERTED,s.FRAMES_EMPTY_COMBS_REMOVED,s.FRAMES_EMPTY_PANEL_INSERTED,s.FRAMES_EMPTY_PANEL_REMOVED,s.FRAMES_HONEY_HARVESTED,s.FRAMES_FOOD_INSERTED,s.FRAMES_FOOD_REMOVED,s.FRAMES_STOREYS_ADDED,s.FRAMES_STOREYS_REMOVED],other:[s.FOOD_ADDED,s.WEIGHT_MEASURED,s.GOT_STUNG,s.GENERAL_NOTE]}}}]);
//# sourceMappingURL=src_app_pages_swarms_swarms_module_ts.69c89ae40c717ecd.js.map